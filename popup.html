<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Popup Metadata -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A tool to manage and organize your tabs efficiently.">

    <!-- Popup Title -->
    <title>Tab Manager</title>

    <!-- Popup CSS -->
    <link rel="stylesheet" href="popup.css">
</head>

<body>
    <!-- Heading -->
    <h1><img src="./icons/icon32.png" /> Tab Manager</h1>

    <!-- Popup Navigation -->
    <div class="popup-nav">
        <div class="nav-tab nav-tab--active" id="openTabsBtn">Open Tabs</div>
        <div class="nav-tab" id="autoGroupBtn">Auto Group</div>
        <div class="nav-tab" id="sessionsBtn">Sessions</div>
        <div class="nav-tab" id="optionsBtn">Options</div>
    </div>

    <!-- Popup Content -->
    <div class="popup-content-container">
        <div id="openTabsContent" class="popup-content popup-content--active">
            <p>Open Tabs will be here.</p>
        </div>

        <!-- Auto Grouping Section -->
        <div id="autoGroupContent" class="popup-content">

            <!-- Auto Grouping Checkbox -->
            <div class="checkboxWrapper">
                <input type="checkbox" id="activateAutoGroupingCheckbox">
                <label for="activateAutoGroupingCheckbox">Enable Auto Grouping</label>
            </div>

            <!-- Form Container (disabled by default until auto-grouping is enabled) -->
            <div id="formContainer" class="disabled">

                <!-- Group Name Input -->
                <label for="groupName">Group Name:</label>
                <input type="text" id="groupName">

                <!-- Group Color Picker -->
                <label for="colorPicker">Group Color:</label>
                <div id="colorPicker" style="display: flex;">
                    <!-- Dynamically generated color circles based on allowed colors -->
                    <div class="color-circle selected" data-color="grey" style="background-color: grey;"></div>
                    <div class="color-circle" data-color="blue" style="background-color: blue;"></div>
                    <div class="color-circle" data-color="red" style="background-color: red;"></div>
                    <div class="color-circle" data-color="yellow" style="background-color: yellow;"></div>
                    <div class="color-circle" data-color="green" style="background-color: green;"></div>
                    <div class="color-circle" data-color="pink" style="background-color: pink;"></div>
                    <div class="color-circle" data-color="purple" style="background-color: purple;"></div>
                    <div class="color-circle" data-color="cyan" style="background-color: cyan;"></div>
                    <div class="color-circle" data-color="orange" style="background-color: orange;"></div>
                </div>
                <!-- Pattern Input and List -->
                <label for="groupPattern">Pattern:</label>
                <input type="text" id="groupPattern">
                <div class="buttonWrapper">
                    <div class="btns-container suggestions">
                         <p>Suggestions:</p>
                        <button id="getDomainBtn">This Domain</button>
                        <button id="getSubdomainBtn">This Domain and Subdomain</button>
                        <button id="getExactUrlBtn">Get Exact URL</button>
                    </div>
                </div>
                <ul id="patternList"></ul>

                <!-- Button Wrapper -->
                <div class="buttonWrapper">
                    <div class="btns-container">
                        <button id="addPatternBtn" class="green-button">Add Pattern</button>
                        <button id="saveGroupBtn" class="green-button">Save Group</button>
                        <button id="clearFormBtn" class="clear-btn">Clear</button>
                    </div>
                </div>

                <!-- Saved Groups Section -->
                <h3>Saved Groups</h3>
                <ul id="savedGroupsList"></ul>
            </div>

        </div>

        <div id="sessionsContent" class="popup-content">
            <p>Session Management will be here.</p>
        </div>

        <div id="optionsContent" class="popup-content">
            <div id="autoCloseOption" class="option-container">
                <label class="checkwrap">
                    <input type="checkbox" id="autoCloseCheckbox">
                    Auto Close Tabs
                </label>
                <div class="option-description">
                    <p>Automatically close tabs after a specified time if they haven't been visited.</p>
                </div>
                <div class="time-settings" style="display: none;">
                    <label for="autoCloseMinutes">Minutes:</label>
                    <input type="number" id="autoCloseMinutes" min="0" value="120">
                    <label for="autoCloseSeconds">Seconds:</label>
                    <input type="number" id="autoCloseSeconds" min="0" value="0">
                    <button id="editTimeBtn" class="green-button">Edit Time</button>
                    <button id="submitTimeBtn" style="display: none;" class="green-button">Submit</button>
                </div>
            </div>
            <div id="autoSleepOption" class="option-container">
                <label class="checkwrap">
                    <input type="checkbox" id="autoSleepCheckbox">
                    Auto Sleep Tabs
                </label>
                <div class="option-description">
                    <p>Automatically sleep inactive tabs after a specified time.</p>
                </div>
                <div class="time-settings" style="display: none;">
                    <label for="autoSleepMinutes">Minutes:</label>
                    <input type="number" id="autoSleepMinutes" min="0" value="120">
                    <label for="autoSleepSeconds">Seconds:</label>
                    <input type="number" id="autoSleepSeconds" min="0" value="0">
                    <button id="editSleepTimeBtn" class="green-button">Edit Time</button>
                    <button id="submitSleepTimeBtn" style="display: none;" class="green-button">Submit</button>
                </div>
            </div>

            <div id="lazyLoadingOption" class="option-container">
                <label class="checkwrap">
                    <input type="checkbox" id="lazyLoadingCheckbox">
                    Lazy Load Tabs
                </label>
                <div class="option-description">
                    <p>Load tabs only when accessed, reducing initial load time.</p>
                </div>
            </div>

            <div id="allowManualGroupAccessOption" class="option-container">
                <label class="checkwrap">
                    <input type="checkbox" id="allowManualGroupAccessCheckbox">
                    Allow Auto Grouping to Access Manual Groups
                </label>
                <div class="option-description">
                    <p>If checked, auto grouping can access manually created groups but not pinned tabs or groups.</p>
                </div>
            </div>            
        </div>

    </div>

    <!-- Popup Script -->
    <script src="popup.js" defer></script>
    <script src="openTabs.js" defer></script>
    <script src="autoGroup.js" defer></script>
    <script src="sessions.js" defer></script>
    <script src="options.js" defer></script>
</body>

</html>